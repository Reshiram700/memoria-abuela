<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>En memoria de Anita Del Angel Del Angel ‚Ä†</title>
  <meta name="description" content="Memorial con fotos, video, carta y m√∫sica." />
  <meta property="og:title" content="En memoria de [Nombre]" />
  <meta property="og:description" content="Un espacio para recordar y honrar su vida." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#111827" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@500;700&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --bg: #0b0f15;
      --card: #121826;
      --muted: #94a3b8;
      --text: #e5e7eb;
      --gold: #d4af37;
      --accent: #c084fc;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      margin: 0;
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
        Ubuntu, "Helvetica Neue", Arial;
      overflow-x: hidden;
    }

    a {
      color: inherit
    }

    .wrap {
      max-width: 1000px;
      margin: auto;
      padding: 24px;
      position: relative;
      z-index: 10
    }

    header.hero {
      position: relative;
      display: grid;
      gap: 16px;
      align-items: center;
      grid-template-columns: 100px 1fr;
      margin: 12px auto 28px;
    }

    .portrait {
      width: 100px;
      height: 100px;
      border-radius: 9999px;
      object-fit: cover;
      border: 2px solid var(--gold);
      box-shadow: 0 10px 30px rgba(0, 0, 0, .35);
    }

    .title h1 {
      font-family: "Playfair Display", serif;
      margin: 0;
      font-size: clamp(28px, 5vw, 44px);
      letter-spacing: .2px;
    }

    .title p {
      margin: 6px 0 0;
      color: var(--muted)
    }

    .card {
      background: linear-gradient(180deg, rgba(255, 255, 255, .03), rgba(255, 255, 255, .02));
      border: 1px solid rgba(255, 255, 255, .08);
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, .35);
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    section {
      margin: 22px 0
    }

    h2 {
      font-family: "Playfair Display", serif;
      font-size: clamp(20px, 3.2vw, 28px);
      margin: 0 0 12px;
    }

    .carta {
      line-height: 1.75;
      white-space: pre-wrap
    }

    /* Galer√≠a */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 10px;
      position: relative;
      z-index: 10;
    }

    .thumb {
      position: relative;
      cursor: pointer;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .08);
    }

    .thumb img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
      filter: saturate(1.05);
    }

    /* Lightbox */
    .lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .lightbox.open {
      display: flex
    }

    .lightbox img {
      max-width: 92vw;
      max-height: 86vh;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, .6);
    }

    .closeBtn,
    .navBtn {
      position: fixed;
      top: 16px;
      background: rgba(255, 255, 255, .08);
      border: 1px solid rgba(255, 255, 255, .18);
      backdrop-filter: blur(6px);
      padding: 10px 14px;
      border-radius: 999px;
      cursor: pointer;
    }

    .closeBtn {
      right: 16px
    }

    .navBtn {
      top: 50%;
      transform: translateY(-50%)
    }

    .prev {
      left: 16px
    }

    .next {
      right: 16px
    }

    /* Bot√≥n / Aviso de audio */
    .gate {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, rgba(9, 12, 18, .88), rgba(9, 12, 18, .92));
      z-index: 100;
      padding: 24px;
      text-align: center;
    }

    .gate .inner {
      max-width: 520px
    }

    .gate h3 {
      margin: 0 0 6px;
      font-family: "Playfair Display", serif;
      font-size: 28px;
    }

    .gate p {
      margin: 0 0 18px;
      color: var(--muted)
    }

    .button {
      display: inline-flex;
      gap: 10px;
      align-items: center;
      border: 1px solid rgba(255, 255, 255, .18);
      background: linear-gradient(180deg, rgba(255, 255, 255, .08), rgba(255, 255, 255, .05));
      padding: 12px 16px;
      border-radius: 12px;
      cursor: pointer;
    }

    footer {
      opacity: .8;
      font-size: 12px;
      text-align: center;
      margin: 24px 0;
      position: relative;
      z-index: 10;
    }

    /* --- Ajustes Responsive para m√≥viles --- */
    @media (max-width: 640px) {
      header.hero {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .portrait {
        width: 140px;
        height: 140px;
        margin: 0 auto;
      }

      .title h1 {
        font-size: 24px;
        margin-top: 10px;
      }

      .title p {
        font-size: 14px
      }

      .grid {
        grid-template-columns: 1fr 1fr;
      }

      .thumb img {
        height: 140px;
      }

      section.card {
        padding: 16px;
      }

      h2 {
        font-size: 20px
      }
    }

    @media (max-width: 400px) {
      .grid {
        grid-template-columns: 1fr
      }

      .thumb img {
        height: 160px
      }
    }

    .thumb.more {
      position: relative;
    }

    .thumb.more .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      color: #fff;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
    }

    /* --- Estilos para los p√©talos --- */
    .petal {
      position: fixed;
      top: -50px;
      width: 15px;
      height: 15px;
      pointer-events: none;
      z-index: 1;
      /* Detr√°s del contenido principal */
      opacity: 0.6;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    /* Para dispositivos m√≥viles, reducir la cantidad de p√©talos */
    @media (max-width: 768px) {
      .petal {
        width: 12px;
        height: 12px;
      }
    }

    /* Para dispositivos m√≥viles, forzar el mismo color de p√©talos */
    @media (max-width: 768px) {
      .petal {
        background: rgba(178, 34, 34, 0.5) !important;
      }
    }

    .lightbox-content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.lightbox-thumbs {
  margin-top: 12px;
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding: 6px;
}

.lightbox-thumbs img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  border: 2px solid transparent;
  transition: border-color 0.2s;
}

.lightbox-thumbs img.active {
  border-color: var(--gold);
}

  </style>
</head>

<body>
  <!-- M√∫sica de fondo -->
  <audio id="bgm" src="assets/music.mp3" loop preload="auto"></audio>

  <!-- Contenedor para los p√©talos (fondo) -->
  <div id="petals-container"></div>

  <!-- Pantalla inicial para iniciar audio -->
  <div id="gate" class="gate" role="dialog" aria-modal="true">
    <div class="inner card">
      <h3>Un espacio para recordar</h3>
      <p>Presiona 'Entrar' para acceder al memorial.</p>
      <button id="enterBtn" class="button" aria-label="Entrar al sitio y reproducir m√∫sica">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M8 5v14l11-7z" />
        </svg>
        Entrar
      </button>
    </div>
  </div>

  <div class="wrap">
    <header class="hero">
      <img class="portrait" src="assets/fotos/portrait.jpg" alt="Retrato de Anita Del Angel">
      <div class="title">
        <h1>
          En memoria de<br>
          Anita Del Angel Del Angel
        </h1>
        <p>26 de julio Del 1937 ‚Äì 24 de diciembre del 2023</p>
      </div>
    </header>

    <section class="card" id="galeria">
      <h2>Galer√≠a de fotos</h2>
      <div class="grid" id="gallery">
        <div class="thumb"><img src="assets/fotos/1.jpg" alt="Foto 1" data-full="assets/fotos/1.jpg"></div>
        <div class="thumb"><img src="assets/fotos/2.jpg" alt="Foto 2" data-full="assets/fotos/2.jpg"></div>
        <div class="thumb"><img src="assets/fotos/3.jpg" alt="Foto 3" data-full="assets/fotos/3.jpg"></div>

        <!-- Cuarta miniatura con overlay -->
        <div class="thumb more" onclick="openLb(3)">
          <img src="assets/fotos/4.jpg" alt="Foto 4" data-full="assets/fotos/4.jpg">
          <div class="overlay">+ Ver m√°s</div>
        </div>
      </div>
    </section>

    <section class="card" id="carta">
      <h2>Carta de tu hija</h2>
      <div class="carta">
        Ama
        Te recuerdo con mucho cari√±o, pero tambi√©n con tristeza, y con un poco de pesar porque el hubiera no existe.
        Ver tus fotos y recordar todo lo que platic√°bamos, lo que convivimos, tambi√©n nuestros enojos, te mantiene viva
        en mi mente. Me hago a la idea de que solo te mudaste a un lugar mucho mejor, soy fiel creyente de que hay algo
        m√°s hermoso que esta vida üíú
        Te quiero ma ‚ù§Ô∏è y mi coraz√≥n tiene ese descanso ya que en tu paso por esta vida, te lo dije muchas veces.
        Te regalaba tus flores que tanto te gustaban, y tantas an√©cdotas que se me vienen a la mente.
        Estar√°s siempre en mis pensamientos, y yo tratar√© de ser un buen ser humano porque vengo de una madre chingona,
        üòÇ esta palabra te sacar√° una carcajada, t√∫ y yo sabemos por qu√© ü§≠
        Te amo madre, hasta pronto üíñ

        - Ana Edith Del Angel Del Angel
      </div>
    </section>

    <section class="card" id="video">
      <h2>Video</h2>
      <div
        style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:12px;border:1px solid rgba(255,255,255,.08)">
        <iframe src="https://www.youtube.com/embed/VIDEO_ID?rel=0" title="Video homenaje" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen style="position:absolute;inset:0;width:100%;height:100%">
        </iframe>
      </div>
    </section>

    <footer>
      Hecho con cari√±o por Ing. Alberto Del Angel „Ç¢„É´„Éô„É´„Éà
    </footer>
  </div>

  <!-- Lightbox -->
<!-- Lightbox -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
  <button class="closeBtn" id="closeLb" aria-label="Cerrar">Cerrar ‚úï</button>
  <button class="navBtn prev" id="prevLb" aria-label="Anterior">‚óÄ</button>
  <div class="lightbox-content">
    <img id="lbImg" src="" alt="Imagen ampliada">
    <div id="lbThumbs" class="lightbox-thumbs"></div>
  </div>
  <button class="navBtn next" id="nextLb" aria-label="Siguiente">‚ñ∂</button>
  </div>


  <script>
    // --- BOT√ìN ENTRAR Y M√öSICA ---
    const gate = document.getElementById('gate');
    const bgm = document.getElementById('bgm');
    document.getElementById('enterBtn').addEventListener('click', async () => {
      try { await bgm.play(); } catch (e) { }
      gate.style.display = 'none';
      // Iniciar la animaci√≥n de p√©talos despu√©s de entrar
      startPetalsAnimation();
    });

    // --- SISTEMA DE P√âTALOS (ROJOS) ---
    function createPetal() {
        const petal = document.createElement('div');
        petal.className = 'petal';

        // Tama√±os ligeramente diferentes
        const size = 10 + Math.random() * 12;

        // Posici√≥n horizontal aleatoria
        const left = Math.random() * 100;

        // Duraci√≥n de la animaci√≥n (entre 15 y 30 segundos)
        const duration = 15 + Math.random() * 20;

        // Retraso inicial
        const delay = Math.random() * 5;

        // Rotaci√≥n aleatoria
        const rotation = Math.random() * 360;

        // Aplicar estilos - COLOR FIJO
        petal.style.left = `${left}vw`;
        petal.style.width = `${size}px`;
        petal.style.height = `${size}px`;
        petal.style.background = 'rgba(178, 34, 34, 0.5)'; // Color fijo
        petal.style.borderRadius = '50% 0 50% 50%';
        petal.style.transform = `rotate(${rotation}deg)`;
        petal.style.animationDuration = `${duration}s`;
        petal.style.animationDelay = `${delay}s`;

        // A√±adir al contenedor
        document.getElementById('petals-container').appendChild(petal);

        // Eliminar el p√©talo despu√©s de que termine la animaci√≥n
        setTimeout(() => {
          petal.remove();
        }, (duration + delay) * 1000);
      }

    function startPetalsAnimation() {
        // Crear menos p√©talos iniciales (solo 8 en lugar de 15)
        for (let i = 0; i < 8; i++) {
          setTimeout(createPetal, i * 800); // M√°s espaciado entre p√©talos
        }

        // Crear p√©talos con menos frecuencia (cada 1.5 segundos en lugar de 0.5)
        setInterval(createPetal, 1500);
      }

    // Iniciar la animaci√≥n de p√©talos cuando la p√°gina cargue
    // Pero solo si ya se ha pasado la pantalla de entrada
    if (gate.style.display !== 'flex') {
      startPetalsAnimation();
    }
  </script>

  <script>
    // --- GALER√çA Y LIGHTBOX ---
    const allThumbs = [
      "assets/fotos/1.jpg", "assets/fotos/2.jpg", "assets/fotos/3.jpg",
      "assets/fotos/4.jpg", "assets/fotos/5.jpg", "assets/fotos/6.jpg",
      "assets/fotos/7.jpg", "assets/fotos/8.jpg", "assets/fotos/9.jpg",
      "assets/fotos/10.jpg", "assets/fotos/11.jpg", "assets/fotos/12.jpg",
      "assets/fotos/13.jpg", "assets/fotos/14.jpg", "assets/fotos/15.jpg",
      "assets/fotos/16.jpg", "assets/fotos/17.jpg", "assets/fotos/18.jpg",
      "assets/fotos/19.jpg", "assets/fotos/20.jpg", "assets/fotos/21.jpg",
      "assets/fotos/22.jpg", "assets/fotos/23.jpg", "assets/fotos/24.jpg",
      "assets/fotos/25.jpg", "assets/fotos/26.jpg", "assets/fotos/27.jpg",
      "assets/fotos/28.jpg", "assets/fotos/29.jpg", "assets/fotos/30.jpg",
      "assets/fotos/31.jpg", "assets/fotos/32.jpg", "assets/fotos/33.jpg",
      "assets/fotos/34.jpg", "assets/fotos/35.jpg", "assets/fotos/36.jpg",
      "assets/fotos/37.jpg", "assets/fotos/38.jpg", "assets/fotos/39.jpg",
      "assets/fotos/40.jpg", "assets/fotos/41.jpg", "assets/fotos/42.jpg",
      "assets/fotos/43.jpg", "assets/fotos/44.jpg", "assets/fotos/45.jpg",
      "assets/fotos/46.jpg", "assets/fotos/47.jpg", "assets/fotos/48.jpg",
      "assets/fotos/49.jpg", "assets/fotos/50.jpg", "assets/fotos/51.jpg",
      "assets/fotos/52.jpg", "assets/fotos/53.jpg", "assets/fotos/54.jpg",
      "assets/fotos/55.jpg"
    ];

    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const closeLb = document.getElementById('closeLb');
    const prevLb = document.getElementById('prevLb');
    const nextLb = document.getElementById('nextLb');
    let current = 0;

    function openLb(idx) {
      current = idx;
      lbImg.src = allThumbs[current];
      lb.classList.add('open');
      lb.setAttribute('aria-hidden', 'false');
    }

    function close() {
      lb.classList.remove('open');
      lb.setAttribute('aria-hidden', 'true');
    }

    function prev() {
      current = (current - 1 + allThumbs.length) % allThumbs.length;
      openLb(current);
    }

    function next() {
      current = (current + 1) % allThumbs.length;
      openLb(current);
    }

    closeLb.addEventListener('click', close);
    prevLb.addEventListener('click', e => { e.stopPropagation(); prev(); });
    nextLb.addEventListener('click', e => { e.stopPropagation(); next(); });
    lb.addEventListener('click', e => { if (e.target === lb) close(); });
    window.addEventListener('keydown', e => {
      if (!lb.classList.contains('open')) return;
      if (e.key === 'Escape') close();
      if (e.key === 'ArrowLeft') prev();
      if (e.key === 'ArrowRight') next();
    });

    // --- SOLO MOSTRAR 4 MINIATURAS ---
    const gallery = document.getElementById('gallery');
    gallery.innerHTML = '';
    for (let i = 0; i < 4; i++) {
      const div = document.createElement('div');
      if (i === 3) {
        div.className = 'thumb more';
        div.innerHTML = `<img src="${allThumbs[i]}" alt="Foto ${i + 1}" data-full="${allThumbs[i]}">
                         <div class="overlay">+ Ver m√°s</div>`;
      } else {
        div.className = 'thumb';
        div.innerHTML = `<img src="${allThumbs[i]}" alt="Foto ${i + 1}" data-full="${allThumbs[i]}">`;
      }
      div.addEventListener('click', () => openLb(i));
      gallery.appendChild(div);
    }

    // --- MINIATURAS EN EL LIGHTBOX ---
      const lbThumbs = document.getElementById('lbThumbs');

      function renderThumbs() {
        lbThumbs.innerHTML = '';
        allThumbs.forEach((src, i) => {
          const thumb = document.createElement('img');
          thumb.src = src;
          thumb.alt = `Miniatura ${i + 1}`;
          if (i === current) thumb.classList.add('active');
          thumb.addEventListener('click', () => openLb(i));
          lbThumbs.appendChild(thumb);
        });
      }

      // Modificamos openLb para que tambi√©n actualice las miniaturas
      const originalOpenLb = openLb;
      openLb = function (idx) {
        current = idx;
        lbImg.src = allThumbs[current];
        renderThumbs();
        lb.classList.add('open');
        lb.setAttribute('aria-hidden', 'false');
      };

  </script>
</body>

</html>